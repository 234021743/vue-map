webpackJsonp([1],{"04u8":function(t,i){},F8QP:function(t,i,s){t.exports=s.p+"static/img/local.e77ae23.png"},NHnr:function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=s("7+uW"),e={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},staticRenderFns:[]};var n=s("VU/8")({name:"App"},e,!1,function(t){s("04u8")},null,null).exports,o=s("/ocq"),c=s("//Fk"),r=s.n(c);function l(t,i){return new r.a(function(s,a){window.onload=function(){s("baidu"==t?BMap:AMap)};var e=document.createElement("script");e.type="text/javascript",e.src="baidu"==t?"http://api.map.baidu.com/api?v=2.0&ak="+i+"&callback=init":"https://webapi.amap.com/maps?v=1.4.5&key="+i+"&plugin=AMap.Autocomplete,AMap.PlaceSearch,AMap.Geocoder,AMap.MapType,AMap.Driving,AMap.DistrictSearch",e.onerror=a,document.head.appendChild(e)})}var d={name:"HelloWorld",data:function(){return{poiList:{data:[]},map:null,geoLocation:null,ac:null,cur_city:"",mapShow:!1,r_address:"",cityName:"",r_city:"",r_name:"",r_lng:"",r_lat:"",poiShow:!1,curTit:"",curAddress:"",curcity:"定位中",local:null}},created:function(){this.loadScript()},methods:{submitAdd:function(){console.log(this.curTit+this.curAddress),console.log(this.r_lng+","+this.r_lat)},loadScript:function(){var t=this;l("baidu","vWhxaSqhgHYqjhpdG7YyxV2y").then(function(){t.initMap()})},openPoi:function(){this.poiShow=!0},hidePoi:function(){this.poiShow=!1},initMap:function(){var t=this;this.map=new window.BMap.Map("mapPanel"),this.map.centerAndZoom(new BMap.Point(121.480539,31.235929),18),this.map.addEventListener("dragend",function(){t.showPoi()}),this.geoLocation=new window.BMap.Geolocation,this.getPos(),this.mapShow=!0},getPos:function(){var t=this,i=this.geoLocation;i.getCurrentPosition(function(s){if(i.getStatus()==BMAP_STATUS_SUCCESS){t.cur_city=s.address.city,t.resetAutocomplete(t.cur_city);var a=s.point.lat,e=s.point.lng;t.curcity=t.cur_city.split("市")[0],t.map.centerAndZoom(new BMap.Point(e,a),16),t.showPoi()}})},showPoi:function(){var t=this,i=this.map.getCenter(),s=new BMap.Point(i.lng,i.lat);(new BMap.Geocoder).getLocation(s,function(i){var s=i.surroundingPois,a=[];if(s.length>0){for(var e=0;e<s.length;++e)a.push({title:s[e].title,address:s[e].address,city:s[e].city,lng:s[e].point.lng,lat:s[e].point.lat});t.showList(a)}},{poiRadius:2e3,numPois:1})},showList:function(t){for(var i in t)t[i].address+t[i].title;this.r_lat=t[0].lat,this.r_lng=t[0].lng,this.curAddress=t[0].address,this.curTit=t[0].title},resetAutocomplete:function(t){this.ac&&this.ac.dispose(),this.ac=new BMap.Autocomplete({input:"address-detail",location:t,onSearchComplete:this.SearchingCmplt})},getPoi:function(t){this.hidePoi(),this.local=new BMap.LocalSearch(this.map,{onSearchComplete:this.searchDone});var i=t;this.r_address=i.address+i.name,this.local.search(this.r_address)},searchDone:function(){var t=this.local.getResults().getPoi(0).point;this.map.centerAndZoom(t,18),this.curAddress=this.local.getResults().getPoi(0).address,this.curTit=this.local.getResults().getPoi(0).title,""!==this.cityName&&(this.curcity=this.cityName.split("市")[0],this.resetAutocomplete(this.cityName))},SearchingCmplt:function(t){for(var i=[],s=0;s<t.getNumPois();s++)t.getPoi(s)&&i.push({name:t.getPoi(s).business,address:t.getPoi(s).city+t.getPoi(s).district,city:t.getPoi(s).city.split("省").length>1?t.getPoi(s).business:t.getPoi(s).city,district:t.getPoi(s).district});this.poiList={data:[]},this.poiList.data=i,this.openPoi()}}},p={render:function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"BMap"},[a("a",{staticClass:"link",attrs:{target:"_self",href:"/Gmap"}},[t._v("高德地图版")]),t._v(" "),a("div",{staticClass:"city-panel"}),t._v(" "),a("div",{staticClass:"m-filter"},[t._m(0),t._v(" "),a("span",{staticClass:"sl-switch"},[a("span",{staticClass:"curcity"},[t._v(t._s(t.curcity))]),t._v(" "),a("span",{staticClass:"icon icon-ctrl pos"})])]),t._v(" "),t.mapShow?a("div",{staticClass:"pos-icon"},[t._m(1)]):t._e(),t._v(" "),t._m(2),t._v(" "),a("div",{attrs:{id:"m-result"}},[a("span",{staticClass:"curResult"},[a("img",{attrs:{src:s("F8QP"),alt:""}}),t._v(" "),a("span",{staticClass:"curTit"},[t._v("\n                "+t._s(t.curTit)+"\n              ")]),t._v(" "),a("span",{staticClass:"curAddress"},[t._v("\n                "+t._s(t.curAddress)+"\n               ")])]),t._v(" "),a("button",{staticClass:"confirm",on:{click:t.submitAdd}},[t._v("确定")])]),t._v(" "),a("span",{staticClass:"pos-panel"},[a("div",{staticClass:"pos-tool",on:{click:t.getPos}},[t._m(3)])]),t._v(" "),a("div",{staticClass:"cityList",attrs:{id:"cityPanel"}}),t._v(" "),t.poiShow?a("div",{staticClass:"poiList",attrs:{id:"poiPanel"}},[a("div",{staticClass:"content"},[a("ul",t._l(t.poiList.data,function(i){return a("li",{on:{click:function(s){t.getPoi(i)}}},[a("img",{attrs:{src:s("O4hL"),alt:""}}),t._v(" "),a("span",{staticClass:"poi-name"},[t._v(t._s(i.name))]),t._v(" "),a("span",{staticClass:"poi-address"},[t._v(t._s(i.address))])])})),t._v(" "),0==t.poiList.data.length?a("div",{staticClass:"empty"},[a("img",{attrs:{src:"imgs/empty.jpg",alt:""}})]):t._e()])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"mui-input-row mui-search mui-active"},[i("input",{staticClass:"address-detail mui-input-clear",attrs:{type:"search",id:"address-detail",name:"address-detail",placeholder:"选择收货地址 街道/小区"}})])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"obj"},[i("img",{attrs:{src:s("wIK3")}})])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{attrs:{id:"mapPanel"}},[i("div",{staticStyle:{"text-align":"center","padding-top":"200px"}},[this._v("地图加载中...")])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"overlay-loader"},[i("div",{staticClass:"loader"},[i("div"),this._v(" "),i("div"),this._v(" "),i("div"),this._v(" "),i("div"),this._v(" "),i("div"),this._v(" "),i("div"),this._v(" "),i("div")])])}]};var u=s("VU/8")(d,p,!1,function(t){s("bd9j")},null,null).exports,h={name:"HelloWorld",data:function(){return{poiList:{data:[]},map:null,geoLocation:null,ac:null,cur_city:"",mapShow:!1,r_address:"",cityName:"",r_city:"",r_name:"",r_lng:"",r_lat:"",poiShow:!1,curTit:"",curAddress:"",curcity:"定位中",local:null,geocoder:null,resultAddress:null,cityCode:null}},created:function(){this.loadScript()},methods:{submitAdd:function(){console.log(this.curTit+this.curAddress),console.log(this.r_lng+","+this.r_lat)},loadScript:function(){var t=this;l("gaod","fd4d53420cd27886c3c2950a94099243").then(function(){t.initMap()})},openPoi:function(){this.poiShow=!0},hidePoi:function(){this.poiShow=!1},initMap:function(){var t=this;this.map=new AMap.Map("mapPanelG",{center:[116.397428,39.90923],resizeEnable:!0,zoom:18}),this.map.on("dragend",function(){var i=t.map.getCenter();t.r_lng=i.lng,t.r_lat=i.lat,t.showPoi()}),this.map.plugin("AMap.Geolocation",function(){t.geolocation=new AMap.Geolocation({enableHighAccuracy:!1,timeout:1e3,buttonOffset:new AMap.Pixel(10,20),zoomToAccuracy:!0,buttonPosition:"RB"})}),this.getPos(),this.mapShow=!0},getPos:function(){var t=this;this.geolocation.getCurrentPosition(function(i,s){1==s.status&&"SUCCESS"===s.info?(t.resultAddress=s.formattedAddress,t.r_lng=s.position.lng,t.r_lat=s.position.lat,t.map.panTo([s.position.lng,s.position.lat]),t.cur_city=s.addressComponent.city?s.addressComponent.city:s.addressComponent.province,t.cityCode=s.addressComponent.citycode,t.curcity=t.cur_city.split("市")[0]):(t.map.panTo([121.39304,31.16599]),t.cur_city="上海市",t.resultAddress="上海市徐汇区漕河泾新兴技术开发区莲花路",t.r_lng=121.39304,t.r_lat=31.16599,t.curcity="上海",t.cityCode="021"),t.showPoi(),t.resetAutocomplete(t.cur_city)})},showPoi:function(){var t=this;this.map.getCenter();AMap.plugin("AMap.Geocoder",function(){t.geocoder=new AMap.Geocoder({city:"全国",extensions:"all"})}),this.geocoder.getAddress([this.r_lng,this.r_lat],function(i,s){var a=s.regeocode,e=[];if(a.pois.length>0){for(var n=0;n<a.pois.length;++n)e.push({title:a.pois[n].name,address:a.addressComponent.city+a.addressComponent.district+a.pois[n].address,city:a.addressComponent.city?a.addressComponent.city:a.addressComponent.province,lng:a.pois[n].location.lng,lat:a.pois[n].location.lat});t.showList(e)}})},showList:function(t){this.r_lat=t[0].lat,this.r_lng=t[0].lng,this.curAddress=t[0].address,this.curTit=t[0].title},resetAutocomplete:function(t){this.ac=new AMap.Autocomplete({input:"address-detail",city:t}),AMap.event.addListener(this.ac,"complete",this.SearchingCmplt)},getPoi:function(t){var i=this;this.hidePoi(),this.local=new AMap.PlaceSearch({});var s=t;this.r_address=s.address+s.name,this.local.search(this.r_address,function(s,a){var e=a.poiList.pois[0].location;i.map.panTo([e.lng,e.lat]),i.curAddress=a.poiList.pois[0].address,i.curTit=a.poiList.pois[0].name,i.curcity=t.city,i.resetAutocomplete(i.cityName)})},searchDone:function(){var t=this.local.getResults().getPoi(0).point;this.map.centerAndZoom(t,18),this.curAddress=this.local.getResults().getPoi(0).address,this.curTit=this.local.getResults().getPoi(0).title,""!==this.cityName&&(this.curcity=this.cityName.split("市")[0],this.resetAutocomplete(this.cityName))},SearchingCmplt:function(t){for(var i=[],s=0;s<t.count;s++)(t.tips[s].id||t.tips[s].adcode)&&i.push({name:t.tips[s].name,address:t.tips[s].district+t.tips[s].address,city:t.tips[s].id?t.tips[s].district.split("市")[0]:t.tips[s].name,district:t.tips[s].district});this.poiList={data:[]},this.poiList.data=i,this.openPoi()}}},v={render:function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"AMap"},[a("a",{staticClass:"link",attrs:{target:"_self",href:"/Bmap"}},[t._v("百度地图版")]),t._v(" "),a("div",{staticClass:"city-panel"}),t._v(" "),a("div",{staticClass:"m-filter"},[t._m(0),t._v(" "),a("span",{staticClass:"sl-switch"},[a("span",{staticClass:"curcity"},[t._v(t._s(t.curcity))]),t._v(" "),a("span",{staticClass:"icon icon-ctrl pos"})])]),t._v(" "),t.mapShow?a("div",{staticClass:"pos-icon"},[t._m(1)]):t._e(),t._v(" "),t._m(2),t._v(" "),a("div",{attrs:{id:"m-result"}},[a("span",{staticClass:"curResult"},[a("img",{attrs:{src:s("F8QP"),alt:""}}),t._v(" "),a("span",{staticClass:"curTit"},[t._v("\n                "+t._s(t.curTit)+"\n              ")]),t._v(" "),a("span",{staticClass:"curAddress"},[t._v("\n                "+t._s(t.curAddress)+"\n               ")])]),t._v(" "),a("button",{staticClass:"confirm",on:{click:t.submitAdd}},[t._v("确定")])]),t._v(" "),a("span",{staticClass:"pos-panel"},[a("div",{staticClass:"pos-tool",on:{click:t.getPos}},[t._m(3)])]),t._v(" "),a("div",{staticClass:"cityList",attrs:{id:"cityPanel"}}),t._v(" "),t.poiShow?a("div",{staticClass:"poiList",attrs:{id:"poiPanel"}},[a("div",{staticClass:"content"},[a("ul",t._l(t.poiList.data,function(i){return a("li",{on:{click:function(s){t.getPoi(i)}}},[a("img",{attrs:{src:s("O4hL"),alt:""}}),t._v(" "),a("span",{staticClass:"poi-name"},[t._v(t._s(i.name))]),t._v(" "),a("span",{staticClass:"poi-address"},[t._v(t._s(i.address))])])})),t._v(" "),0==t.poiList.data.length?a("div",{staticClass:"empty"},[a("img",{attrs:{src:"imgs/empty.jpg",alt:""}})]):t._e()])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"mui-input-row mui-search mui-active"},[i("input",{staticClass:"address-detail mui-input-clear",attrs:{type:"search",id:"address-detail",name:"address-detail",placeholder:"选择收货地址 街道/小区"}})])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"obj"},[i("img",{attrs:{src:s("wIK3")}})])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{attrs:{id:"mapPanelG"}},[i("div",{staticStyle:{"text-align":"center","padding-top":"200px"}},[this._v("地图加载中...")])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"overlay-loader"},[i("div",{staticClass:"loader"},[i("div"),this._v(" "),i("div"),this._v(" "),i("div"),this._v(" "),i("div"),this._v(" "),i("div"),this._v(" "),i("div"),this._v(" "),i("div")])])}]};var m=s("VU/8")(h,v,!1,function(t){s("pOoF")},null,null).exports;a.a.use(o.a);var A=new o.a({routes:[{path:"/Gmap",name:"Gmap",component:m},{path:"/Bmap",name:"Bmap",component:u}],mode:"history"});a.a.config.productionTip=!1,new a.a({el:"#app",router:A,components:{App:n},template:"<App/>"})},O4hL:function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAOISURBVHhe7ZlNS1RRGMeHiL5ELaJRyjDRKEttHHNCB7PMN8LUScvMDIIIyhKahYUSLdq4KGoRQYugKFwIRSg1LvsA1s6XvkOb8+8+1+eC3jn3eF+8945wfvBbPOc8z/k/gTNkJTQajUaj0Wg0Go1mW/LYs39cvDb8d+A2EIYbb4tXlMWppcPBWyJ3cByIRCOLY0uDdB57y8bE77IxIHkzvOXobcqgLMrk4/g5YixWMQpUjIrlMBejtymDsiiTj+OFlqq8LpaPjQBVI+EvRRmURZkl8VNQPSxyNdeAmuFoFqIMyqJMyubjeKBlaofEcu0QUJuLbhnKMjON7Fh/Ck4bi9TngLqcsUg6ukUoizIpm3bg4+hoHBRtqQGx1jgIlIK0S3pAZHm98MlcEauZfqCUbO4XK7xe+LT2ASSXsRP5Pu2XAZLL2Il8n45esXqpFygpeyL8CPR0imx3t1jp6QZKQdqlq0u08nrR0dcJkFxGTtz5icEOgOQycuLOTwxfBEguI8fK965Yu3phB/7eMNoOkFxGjpXvxxvnd+BLc7wNILlUYvW6lceUeOndjN+5Iu5kAZJLJVavW3lMiZfezfidK+JeC0ByGTlWvn/F2t2WAN8FD84BJJeRY+UH8X4mwHfBZAYguVSS78W+yWbx7FGzWLfm7NKd4TT18pgSa45LzwSdT+TPAiSXSh43GX8w7t9O6uUxJVY/l54JOp94kgZILpVMpcVf6p1KiXo+KuJpk2jYeFOs85ESKz+YAT4CMymA5FKJ214/b/r2jFiZSQX4HeJ5A0ByqcRtbxhv2vE7V8SLOoDkUonb3jDetON3rojZUwDJpRK3vWG8acfvXBEvTwIkl0qceu3nTn0yvPRuxu9cEW9OADL5egtOd/Zzpz7CurPL1yYTP8XSwwKw2YmCKPC1iWzOF2+PAzL5egtOd/Zzpz7CurPL1ybTi4BMvjaRzfnifTVAcqnEqdd+7tQnQ9Y7+934fEvkaxMvGUo+VAEkl0rc9gZ9891XQCZfm3jJUPKpEvAqjzoim9lOHjX5Mg/I5GsT2Zwv5o4CXuVRR2Qz28mjJgtzgEy+NpHN+WK+AiC5VOK2N+ibvz4DMvnaxEuGkm+HAZJLJW57g7755yMgk69NvGQoWSwXq4vlwG50oXwH/lH0R1JkC4fESiEJ7CqNnZeSMfxPkkaj0Wg0Go1Go9kFJBL/AaBTakC9nLfEAAAAAElFTkSuQmCC"},bd9j:function(t,i){},pOoF:function(t,i){},wIK3:function(t,i){t.exports="data:image/png;base64,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"}},["NHnr"]);
//# sourceMappingURL=app.3221919d0c86d1f193a5.js.map